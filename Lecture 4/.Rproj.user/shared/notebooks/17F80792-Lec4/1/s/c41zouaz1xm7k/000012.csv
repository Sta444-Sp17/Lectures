"0","library(xgboost)"
"0","y = anguilla$presence %>% as.integer()"
"0","x = model.matrix(presence~.-1, data=anguilla)"
"0","xg = xgboost(data=x, label=y, nthead=4, nround=30, objective=""binary:logistic"")"
"1","[1]	train-error:0.100486"
"1"," "
"1","
"
"1","[2]	train-error:0.092382"
"1"," "
"1","
"
"1","[3]	train-error:0.079417"
"1"," "
"1","
"
"1","[4]	train-error:0.079417"
"1"," "
"1","
"
"1","[5]	train-error:0.069692"
"1"," "
"1","
"
"1","[6]	train-error:0.061588"
"1"," "
"1","
"
"1","[7]	train-error:0.055105"
"1"," "
"1","
"
"1","[8]	train-error:0.045381"
"1"," "
"1","
"
"1","[9]	train-error:0.040519"
"1"," "
"1","
"
"1","[10]	train-error:0.043760"
"1"," "
"1","
"
"1","[11]	train-error:0.038898"
"1"," "
"1","
"
"1","[12]	train-error:0.035656"
"1"," "
"1","
"
"1","[13]	train-error:0.029173"
"1"," "
"1","
"
"1","[14]	train-error:0.027553"
"1"," "
"1","
"
"1","[15]	train-error:0.024311"
"1"," "
"1","
"
"1","[16]	train-error:0.024311"
"1"," "
"1","
"
"1","[17]	train-error:0.019449"
"1"," "
"1","
"
"1","[18]	train-error:0.012966"
"1"," "
"1","
"
"1","[19]	train-error:0.009724"
"1"," "
"1","
"
"1","[20]	train-error:0.009724"
"1"," "
"1","
"
"1","[21]	train-error:0.011345"
"1"," "
"1","
"
"1","[22]	train-error:0.008104"
"1"," "
"1","
"
"1","[23]	train-error:0.004862"
"1"," "
"1","
"
"1","[24]	train-error:0.001621"
"1"," "
"1","
"
"1","[25]	train-error:0.001621"
"1"," "
"1","
"
"1","[26]	train-error:0.001621"
"1"," "
"1","
"
"1","[27]	train-error:0.001621"
"1"," "
"1","
"
"1","[28]	train-error:0.000000"
"1"," "
"1","
"
"1","[29]	train-error:0.000000"
"1"," "
"1","
"
"1","[30]	train-error:0.000000"
"1"," "
"1","
"
"0","pred_xg = "
"0","d_xg = anguilla %>%"
"0","  mutate(p_hat = predict(xg, newdata=x)) %>%"
"0","  mutate(p_hat_bin = p_hat - (p_hat %% 0.025)) %>%"
"0","  mutate("
"0","    resid = presence - p_hat,"
"0","    pearson = (presence - p_hat)/(p_hat*(1-p_hat)),"
"0","    deviance = sign(presence-p_hat) * sqrt(-2 * (presence * log(p_hat) + (1-presence) * log(1-p_hat)))"
"0","  )"
"0","resid_xg = d_xg %>%"
"0","  select(p_hat:deviance) %>%"
"0","  gather(type, value, -p_hat, -p_hat_bin) %>%"
"0","  mutate(type = factor(type, levels=c(""resid"",""pearson"",""deviance""))) "
"0","ggplot(resid_xg, aes(x=p_hat, y=value, color=type)) +"
"0","  geom_point(alpha=0.1) +"
"0","  facet_wrap(~type, ncol=3, scale=""free_y"")"
