"0","d_f = anguilla %>%"
"0","  add_predictions(f, var=""p_hat"") %>%"
"0","  mutate(p_hat = inv_logit(p_hat)) %>%"
"0","  mutate(p_hat_bin = p_hat - (p_hat %% 0.025)) %>%"
"0","  mutate("
"0","    resid = presence - p_hat,"
"0","    pearson = (presence - p_hat)/(p_hat*(1-p_hat)),"
"0","    deviance = sign(presence-p_hat) * sqrt(-2 * (presence * log(p_hat) + (1-presence) * log(1-p_hat)))"
"0","  )"
"0","resid_f = d_f %>%"
"0","  select(p_hat:deviance) %>%"
"0","  gather(type, value, -p_hat, -p_hat_bin) %>%"
"0","  mutate(type = factor(type, levels=c(""resid"",""pearson"",""deviance""))) "
"0","ggplot(resid_f, aes(x=p_hat, y=value, color=type)) +"
"0","  geom_point(alpha=0.1) +"
"0","  facet_wrap(~type, ncol=3, scale=""free_y"")"
