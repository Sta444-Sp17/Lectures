"0","d_f_test = anguilla_test %>%"
"0","  add_predictions(f, var=""p_hat"") %>%"
"0","  mutate(p_hat = inv_logit(p_hat)) %>%"
"0","  mutate(p_hat_bin = p_hat - (p_hat %% 0.025)) %>%"
"0","  mutate("
"0","    resid = presence - p_hat,"
"0","    pearson = (presence - p_hat)/(p_hat*(1-p_hat)),"
"0","    deviance = sign(presence-p_hat) * sqrt(-2 * (presence * log(p_hat) + (1-presence) * log(1-p_hat)))"
"0","  )"
"0","d_xg_test = anguilla_test %>%"
"0","  mutate(p_hat = predict(xg, newdata=model.matrix(presence~.-1, data=anguilla_test))) %>%"
"0","  mutate(p_hat_bin = p_hat - (p_hat %% 0.025)) %>%"
"0","  mutate("
"0","    resid = presence - p_hat,"
"0","    pearson = (presence - p_hat)/(p_hat*(1-p_hat)),"
"0","    deviance = sign(presence-p_hat) * sqrt(-2 * (presence * log(p_hat) + (1-presence) * log(1-p_hat)))"
"0","  )"
